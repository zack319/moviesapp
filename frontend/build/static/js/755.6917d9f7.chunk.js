"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[755],{411:(e,s,a)=>{a.d(s,{A:()=>i});a(43);const i=a.p+"static/media/wave1.2cf55c9dc94e0873f960159fbc6396e8.svg"},16:(e,s,a)=>{a.d(s,{A:()=>i});a(43);const i=a.p+"static/media/wave2.bd8227b0dce83a6bc9850dbf8ccf1e95.svg"},755:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});var i=a(43),c=a(213),t=a(411),d=a(16),o=a(216),l=a(579);const n=()=>{const e=(0,o.Zp)(),[s,a]=(0,i.useState)([]);let n={userId:JSON.parse(localStorage.getItem("userData")).userId};(0,i.useEffect)((()=>{c.A.post("http://10.6.0.10:9494/users/movies",n).then((e=>{a(e.data.movies),e.data.status||console.log("An error occured when getting your movies")}))}),[]);const r=()=>{console.log("Adding new movie to user list."),e("/addmovie")};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"header",children:[(0,l.jsx)("h1",{children:"My Movies"}),(0,l.jsx)("div",{className:"logout",onClick:()=>(localStorage.removeItem("userData"),localStorage.setItem("isLoggedIn",!1),void e("/")),children:(0,l.jsx)("p",{children:"Logout"})})]}),(0,l.jsx)("div",{className:"dashboard",children:(0,l.jsxs)("div",{className:"container text-center",children:[0===s.length?(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"Your movie list is empty"}),(0,l.jsx)("button",{className:"add-movie-button",onClick:()=>r(),children:"Add a new movie"})]}):(0,l.jsx)("div",{className:"movie-grid",children:s.map(((s,a)=>(0,l.jsxs)("div",{className:"movie-card",onClick:()=>(s=>{e("/addmovie",{state:{movie:s}})})(s),children:[(0,l.jsx)("img",{src:`data:${s.imageType};base64,${s.image}`,alt:s.title,className:"movie-picture"}),(0,l.jsxs)("div",{className:"movie-details",children:[(0,l.jsx)("h2",{className:"movie-title",children:s.name}),(0,l.jsx)("p",{className:"movie-year",children:s.year})]})]},a)))}),(0,l.jsx)("button",{className:"add-movie-button",onClick:()=>r(),children:"Add a new movie"})]})}),(0,l.jsx)("div",{className:"footer",children:(0,l.jsxs)("div",{className:"wave-container",children:[(0,l.jsx)("img",{src:t.A,className:"wave wave1",alt:"wave"}),(0,l.jsx)("img",{src:d.A,className:"wave wave2",alt:"wave"})]})})]})}}}]);
//# sourceMappingURL=755.6917d9f7.chunk.js.map